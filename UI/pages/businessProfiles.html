<!DOCTYPE html>
<html lang="en">

<head>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <meta name="description" content="Frest admin is super flexible, powerful, clean &amp; modern responsive bootstrap 4 admin template with unlimited possibilities.">
    <meta name="keywords" content="admin template, Frest admin template, dashboard template, flat admin template, responsive admin template, web app">
    <meta name="author" content="PIXINVENT">
    <title>Business Profiles</title>
    <link rel="apple-touch-icon" href="../../app-assets/images/ico/apple-icon-120.png">
    <link rel="shortcut icon" type="image/x-icon" href="../../app-assets/images/ico/favicon.ico">
    <link href="https://fonts.googleapis.com/css?family=Rubik:300,400,500,600%7CIBM+Plex+Sans:300,400,500,600,700" rel="stylesheet">


    <link rel="stylesheet" type="text/css" href="../../app-assets/vendors/css/vendors.min.css">
    <link rel="stylesheet" type="text/css" href="../../app-assets/vendors/css/charts/apexcharts.css">
    <link rel="stylesheet" type="text/css" href="../../app-assets/vendors/css/extensions/swiper.min.css">
    <link rel="stylesheet" href="../../css/font-awesome-4.7.0/css/font-awesome.min.css">



    <link rel="stylesheet" type="text/css" href="../../app-assets/css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../../app-assets/css/bootstrap-extended.css">
    <link rel="stylesheet" type="text/css" href="../../app-assets/css/colors.css">
    <link rel="stylesheet" type="text/css" href="../../app-assets/css/components.css">


    <link rel="stylesheet" type="text/css" href="../../app-assets/css/core/menu/menu-types/horizontal-menu.css">
    <link rel="stylesheet" type="text/css" href="../../app-assets/css/pages/dashboard-ecommerce.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons " rel="stylesheet ">




    <link rel="icon" href="../../img/core-img/favicon.png" />


    <link rel="stylesheet" href="../../css/responsive.css" />

    <link rel="stylesheet" type="text/css" href="../../css/custom.css" />


    <script src="../../js/modernizr.js"></script>
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-app.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
        https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-analytics.js"></script>

    <script>
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    var firebaseConfig = {
        apiKey: "AIzaSyAaX52IZbaEg3gYnMeHRWh5bi-pLEw2-c4",
        authDomain: "sanathana-1558e.firebaseapp.com",
        projectId: "sanathana-1558e",
        storageBucket: "sanathana-1558e.appspot.com",
        messagingSenderId: "69696836774",
        appId: "1:69696836774:web:4edf184e3cfe3608679067",
        measurementId: "G-DRHZRFBMLY"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    firebase.analytics();
    </script>
    <style>
        .filter-types{
            cursor: pointer;
        }
        .profile-cards{
            /* height: 80vh; */
            overflow-y: scroll;
        }
        #business-image{
            width: 100px;
            height: 100px;
            border-radius: 50%;
            border : 1px solid rgba(0, 0, 0, 0.1);
        }
        .profile-cards::-webkit-scrollbar{
            display: none;
        }
        
        .search-background{
            height: 200px;
        }
        .row{
            margin: 0 ;
        }
        #filter-container{
            border : 1px solid #c1c1c1;
            border-radius: 5px;
            border-bottom: none;
        }
        input[name="pageNumber"]{
            display: none;
        }
        .pageNumber{
            margin: 0.2rem;
            padding: 1rem;
            font-size: 1rem;
            color: #fff;
            background-color: #5a8dee;
            cursor: pointer;
        }
        .pageNumber:hover{
            background-color: #86b1ff;
        }
        /* .filter-count{
            color : #000;
           
            background-color: #fff;
            border-radius: 50%;
        } */
    </style>
</head>

 <body class="bg-grey">

    <!-- ***** Header Area Start ***** -->
    <!-- <section> -->

        
        <div class="row p-1" style="position: fixed;bottom:0;z-index: 999999;">
            <div class="col toast-container">
                
            </div>
          </div>
        <div class="">
            <section>
                <header class=" float-left header_area headroom headroom--not-bottom headroom--pinned headroom--top">
                    <div class="non-login-header row align-items-center py-1">
                        <!-- Menu Area Start -->
                        <div class="col-12">
                            <div class="menu_area">
                                <nav class="navbar navbar-expand-xl px-1 py-0">
                                    <!-- Logo -->
                                    <a href="../index.html"><img src="../../img/bg-img/logo.png" class="img-fluid logo-width" alt="Brand Logo" /></a>
                                    <a href="#home">
                                        <h4 class="logo-font  ml-1 text-white">Sanathana Entrepreneurs Association</h4>
                                    </a>
                                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ca-navbar" aria-controls="ca-navbar" aria-expanded="false" aria-label="Toggle navigation">
                                    <span class="navbar-toggler-icon"></span>
                                    </button>
                                    <!-- Menu Area -->
                                    <div class="navbar-collapse collapse" id="ca-navbar">
                                        <ul class="nav navbar-nav ml-auto" id="nav">
                                            <li class="nav-item"><a class="nav-link px-3 " href="whysea.html" target="_blank">Why SEA</a></li>
                                            <!-- <li class="nav-item"><a class="nav-link px-3" href="#features">Features</a></li> -->
                                            <li class="nav-item"><a class="nav-link px-3 " href="#applications">Blog</a></li>
                                            <a class="" href="./login.html"> <button type="button" class="btn btn-light-warning  mr-1 mb-1" id="login-btn">Member Login</button></a>
                                            <a class="" href="#"><button type="button" class="btn badge-circle-light-danger mr-1 mb-1">Search</button></a>
        
                                        </ul>
                                    </div>
                                </nav>
                            </div>
                        </div>
                    </div>
                    <div id="navbar-container" style="display: none;">

                    </div>
                </header>
            </section>
        </div>
    <!-- </section> -->

    
    <div class="container main-section bg-grey" style="padding-top:5%;">
        <div class="row">
            <div class="col-md-3">

            </div>
            <div  style="height: 90vh;overflow-y: scroll;left:0;position: absolute;width: 25%;" >
                <div class="side-bar card">
                    <div class="card-body bg-primary ">
                        
                        <div class="col p-0" id="filter-container">
                            
                        </div>
                        
                    </div>
                </div>
            </div>
            
            <div class="col-md-9"  style="padding-top:3%;">
                <div class="row search-bar ">
                    <div class="row  col-md-12  align-items-center">
                        <div class="col-md-6 col-12">
                            <!-- search bar -->
                            <input type="search" class="form-control rounded-right form-control-lg shadow pl-2" id="searchBar"
                      placeholder="Search">
                        </div>
                        <div class="col-md-1 col-12">
                            <!-- search button -->
                            <button class="btn  bg-dark search-btn rounded" type="button" id="searchBtn">
                                <span class="d-none d-sm-block text-white">Search</span>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="row profile-cards py-1" >
                    <div class="col px-0">
                        <div class="row  col-md-12" id="profileCards" >
                            <!-- no pfoiles image -->
                            <!-- <img src="https://i.pinimg.com/originals/ae/8a/c2/ae8ac2fa217d23aadcc913989fcc34a2.png"  alt=""> -->
                        </div>
                        
                        <div class="row page-numbers justify-content-center">
                            
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>
       
        
    </div>
    <!-- ***** Footer Area End ***** -->
    <!-- Start of Async Drift Code -->
    <script>
        "use strict";

        !(function() {
            var t = (window.driftt = window.drift = window.driftt || []);
            if (!t.init) {
                if (t.invoked) return void(window.console && console.error && console.error("Drift snippet included twice."));
                (t.invoked = !0),
                (t.methods = ["identify", "config", "track", "reset", "debug", "show", "ping", "page", "hide", "off", "on"]),
                (t.factory = function(e) {
                    return function() {
                        var n = Array.prototype.slice.call(arguments);
                        return n.unshift(e), t.push(n), t;
                    };
                }),
                t.methods.forEach(function(e) {
                        t[e] = t.factory(e);
                    }),
                    (t.load = function(t) {
                        var e = 3e5,
                            n = Math.ceil(new Date() / e) * e,
                            o = document.createElement("script");
                        (o.type = "text/javascript"),
                        (o.async = !0),
                        (o.crossorigin = "anonymous"),
                        (o.src = "https://js.driftt.com/include/" + n + "/" + t + ".js");
                        var i = document.getElementsByTagName("script")[0];
                        i.parentNode.insertBefore(o, i);
                    });
            }
        })();
        drift.SNIPPET_VERSION = "0.3.1";
        drift.load("6ashbsefxhx7");
    </script>
    <!-- End of Async Drift Code -->
    <!-- ***** App Screenshots Area End *****====== -->
    
    <!-- Go to www.addthis.com/dashboard to customize your tools -->
    <!-- <script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-58d9fa1af7a79649"></script> -->
    <!-- Jquery-2.2.4 JS -->
    <script src="../../js/jquery-2.2.4.min.js"></script>
    <!-- Headroom js -->
    <script src="../../js/headroom.js"></script>
    <!-- Popper js -->
    <!-- <script src="../../js/popper.min.js"></script> -->
    <!-- Bootstrap-4 Beta JS -->
    <script src="../../js/bootstrap.min.js"></script>
    <!-- All Plugins JS -->
    <script src="../../js/plugins.js"></script>
    <!-- Active JS -->
    <script src="../../js/active.js"></script>
    <!-- Resource jQuery -->
    <script src="../../js/jquery.mobile.custom.min.js"></script>
    <!-- Resource jQuery -->
    <script src="../../js/main.js"></script>

    <script src="../../app-assets/vendors/js/vendors.min.js"></script>
    <script src="../../app-assets/fonts/LivIconsEvo/js/LivIconsEvo.tools.js"></script>
    <script src="../../app-assets/fonts/LivIconsEvo/js/LivIconsEvo.defaults.js"></script>
    <script src="../../app-assets/fonts/LivIconsEvo/js/LivIconsEvo.min.js"></script>
    <!-- BEGIN Vendor JS-->

    <!-- BEGIN: Page Vendor JS-->
    <script src="../../app-assets/vendors/js/ui/jquery.sticky.js"></script>
    <!-- END: Page Vendor JS-->

    <!-- BEGIN: Theme JS-->
    <script src="../../app-assets/js/scripts/configs/horizontal-menu.js"></script>
    <script src="../../app-assets/js/core/app-menu.js"></script>
    <script src="../../app-assets/js/core/app.js"></script>
    <script src="../../app-assets/js/scripts/components.js"></script>
    <script src="../../app-assets/js/scripts/footer.js"></script>
    <!-- END: Theme JS-->
    <!-- Headroom -->
    <script src="../../js/globalFuntions.js"></script>
    <script>
        function headroomInit(){
            $(document).ready(function() {
                var year = new Date().getFullYear();
                $(".year").text(year);
                            // grab an element
                var myElement = document.querySelector("header");
                // construct an instance of Headroom, passing the element
                var headroom = new Headroom(myElement);
                // initialise
                headroom.init();
            });

            $(document).ready(function() {
                $('[data-toggle="tooltip"]').tooltip();
            });
        }
        
    </script>
    <script>
        const myHeaders = new Headers();
        var pageNumber = 1;
        var userData = {}
        headroomInit();
        async function profile(){
            var authRequestOptions = {
            method : "POST",
            redirect : "follow",
            headers : myHeaders,
            body : ""
            }
            var result = await fetch("../../ws/auth.php",authRequestOptions)
            .then(response => response.json());
            return result;
        }
        async function loadData(){
            try{
                profile().then(response =>{
                    userData = response;
                    console.log(userData);
                    if(userData.status == "Logged In")
                    {
                        document.querySelector('.non-login-header').style.display = "none";
                        document.querySelector('#navbar-container').style.display = "block";
                        $('#navbar-container').load('../components/navbar.html');
                        auth();
                    }
                    init();
                        
                })
            }
            catch(error){
                console.log(error);
            }
        }
        loadData();
        function search(profileList){
            var data = profileList;
            console.log(data);
            var searchBar = document.getElementById('searchBar');
            searchBar.addEventListener('keyup' , (e)=>{
                console.log(e.target.value);
                const searchString = e.target.value.toLowerCase();
                const filteredData = data.filter( profile =>{
                    return (
                        profile.ContentName.toLowerCase().includes(searchString) ||
                        profile.Name.toLowerCase().includes(searchString) ||
                        profile.BusinessName.toLowerCase().includes(searchString)
                    );
                })
                displayMembers(filteredData);
            })
        }

        function init(){
            var data = {
                load : "loadallMemdata",
                page : "1",
                chapters : "",
                groups : "",
                categories : ""
            }

            loadProfiles(data);
        }
        function pageChange(){
            //get page elements
            var pageElements = document.querySelectorAll('.pageNumber');
            //get filters data
            pageElements = Array.from(pageElements);
            console.log(pageElements);
            pageElements.forEach((element)=>{
                element.addEventListener('click',()=>{
                    // alert(element.innerText);
                    var categories = [];
                    var groups = [];
                    var chapters = [];
                    var categoriesElements = document.querySelectorAll('input[name=categoriesfilter]:checked');
                    var groupsElements = document.querySelectorAll('input[name=groupsfilter]:checked');
                    var chaptersElements = document.querySelectorAll('input[name=chaptersfilter]:checked');
                    if( categoriesElements.length > 0){
                        categoriesElements = Array.from(categoriesElements);
                        categoriesElements.forEach(item=>{
                            if(item.checked){
                                categories.push(item.value);
                            }
                        })
                    }
                    if( groupsElements.length > 0){
                        groupsElements = Array.from(groupsElements);
                        groupsElements.forEach(item=>{
                            if(item.checked){
                                groups.push(item.value);
                            }
                        })
                    }
                    if( chaptersElements.length > 0){
                        chaptersElements = Array.from(chaptersElements);
                        chaptersElements.forEach(item=>{
                            if(item.checked){
                                chapters.push(item.value);
                            }
                        })
                    }
                    categories = categories.join(',');
                    chapters = chapters.join(',');
                    groups = groups.join(',');
                    console.log(categories);
                    console.log(chapters);
                    console.log(groups);
                    var page = parseInt(element.innerText);
                    var data = {
                        load : "loadallMemdata",
                        page : page,
                        chapters : chapters,
                        groups : groups,
                        categories : categories
                    }
                    loadProfiles(data);
                })
            })
        }
        function filterChange(){
            var checkBoxes = document.querySelectorAll('.checkbox-input');
            checkBoxes = Array.from(checkBoxes);
            checkBoxes.forEach(box =>{
                box.addEventListener('click',()=>{
                    // alert(box.value);
                    var categories = [];
                    var groups = [];
                    var chapters = [];
                    var categoriesElements = document.querySelectorAll('input[name=categoriesfilter]:checked');
                    var groupsElements = document.querySelectorAll('input[name=groupsfilter]:checked');
                    var chaptersElements = document.querySelectorAll('input[name=chaptersfilter]:checked');
                    if( categoriesElements.length > 0){
                        categoriesElements = Array.from(categoriesElements);
                        categoriesElements.forEach(item=>{
                            if(item.checked){
                                categories.push(item.value);
                            }
                        })
                    }
                    if( groupsElements.length > 0){
                        groupsElements = Array.from(groupsElements);
                        groupsElements.forEach(item=>{
                            if(item.checked){
                                groups.push(item.value);
                            }
                        })
                    }
                    if( chaptersElements.length > 0){
                        chaptersElements = Array.from(chaptersElements);
                        chaptersElements.forEach(item=>{
                            if(item.checked){
                                chapters.push(item.value);
                            }
                        })
                    }
                    categories = categories.join(',');
                    chapters = chapters.join(',');
                    groups = groups.join(',');
                    console.log(categories);
                    console.log(chapters);
                    console.log(groups);
                    var data = {
                        load : "loadallMemdata",
                        page : 1,
                        chapters : chapters,
                        groups : groups,
                        categories : categories
                    }
                    loadProfiles(data);
                });
            })
        }
        async function loadProfiles(data){
            var profileList = [];
            data = JSON.stringify(data);
            console.log(data);
            var businessRequestOptions = {
                method : "POST",
                headers : myHeaders,
                redirect : "follow",
                body : data
            }
            try {
                var result = await fetch("../../ws/businessprofile.php",businessRequestOptions).then(response => response.json());
                console.log(result);
                var pageCount;
                profileList = result.slice(1);
                if(Array.from(profileList) && profileList.length > 0){
                    pageCount = result[0].count;
                    //make pages
                    var pageNumberContainer = document.querySelector('.page-numbers');
                    pageNumberContainer.innerHTML = "";
                    for (let index = 1; index <= pageCount; index++) {
                        var element = document.createElement('div');
                        element.innerHTML = `<label class="pageNumber" for="page-`+index+`">`+index+`</label>
                                             <input type="radio" name="pageNumber" id="page-`+index+`">`;
                        pageNumberContainer.appendChild(element.firstChild);
                    }
                    
                    //get contacts
                    for(var i  in profileList){
                        var loadContactsBody = {
                            load : "loadmemcontacts",
                            id : profileList[i].userid,
                            category : profileList[i].ContentName
                        }
                        loadContactsBody = JSON.stringify(loadContactsBody);
                        var loadContactsOptions = {
                            method : "POST",
                            redirect : "follow",
                            headers : myHeaders,
                            body : loadContactsBody
                        }
                        var result = await  fetch("../../ws/businessprofile.php",loadContactsOptions).then(response => response.json());
                        console.log(result);
                        var email = "no email";
                        var phoneNumber = "no number";
                        if(Array.isArray(result)){
                            result.forEach(item=>{
                                if(item.ContentName === "Phone Number"){
                                    phoneNumber = item.contactdetails;
                                }else if(item.ContentName === "Email"){
                                    email = item.contactdetails
                                }
                            });
                        }
                        var inedx = profileList.indexOf(profileList[i]);
                        profileList[i].email = email;
                        profileList[i].phoneNumber  = phoneNumber;
                        profileList[inedx] = profileList[i];
                    }
                    pageChange();
                    filterChange();
                    search(profileList);
                    displayMembers(profileList);
                }else{
                    var pageNumberContainer = document.querySelector('.page-numbers');
                    pageNumberContainer.innerHTML = ""; 
                    profileList  = [];
                    displayMembers(profileList);
                }
            } catch (error) {
                console.log(error);
            }
        }
        function displayMembers(profiles){
            console.log(profiles);
            var profileCards = document.getElementById('profileCards');
            if(profiles.length > 0){
                console.log(profiles);
                const cardHtml = (profiles)
                    .map((profile) =>{
                        var editBtn = "";
                        var referBtn = "";
                        if(userData.status === "Logged In"){
                            var temp = profile.userid.slice(1);
                            referBtn = `<a class="btn btn-warning mr-1 text-white" href="./refferalForm.html?action=bussiness&id=%2B`+temp+`">
                                    <span class="material-icons  align-middle">
                                        people
                                    </span>
                                    Refer
                                    </a>`;
                            if(userData.privilige == "Admin"){
                                var temp = profile.userid.slice(1);
                                editBtn = `<a class="btn btn-primary mr-1 text-white" href="./member_form.html?action=modify&memberId=%2B`+temp+`">
                                    <span class="material-icons  align-middle">
                                        edit
                                    </span>
                                    Edit Profile
                                    </a>`;
                            }
                        }
                        if(profile.logo === ""){
                            profile.logo = "../../images/emptystates/logo.jpg";
                        }
                        var card = document.createElement("div");
                        card.innerHTML = `<div class="col-md-12 profile-card">
                            <div class="card " style="margin-bottom: 5%;">
                                <div class="card-body py-1 m-1">
                                    <div class="col">
                                        <div class="row ">
                                            <div class="col-md-4 col-12 ">
                                                <h3 class="text-bold-500 text-primary">`+profile.BusinessName+`</h3>
                                            </div>
                                            <div class="col-md-4  col-12">
                                                <h5 class="text-bold-500">`+profile.Name+`</h5>
                                            </div>
                                            <div class="col-md-4 col-12">
                                                <div class="chip chip-primary" >
                                                    <span class="chip-text text-white" style="font-size: .9rem; padding: 0.2rem;">
                                                        `+ profile.ContentName +`
                                                    </span>
                                                </div>
                                    
                                            </div>
                                        </div>
                                        <div class="row mt-2">
                                            <div class="col-md-4 col-12">
                                                <img src="`+profile.logo+`" id="business-image" alt="business image">
                                            </div>
                                            <div class="col-md-4 col-12" >
                                                <div class="row mb-2">
                                                    <span class="material-icons mr-1 info">
                                                        phone
                                                    </span>
                                                    <span >
                                                        `+profile.phoneNumber+`
                                                    </span>
                                                </div>
                                                <div class="row">
                                                    <span class="material-icons mr-1 info">
                                                        mail
                                                    </span>
                                                    <span>
                                                        `+profile.email+`
                                                    </span>
                                                </div>
                                            </div>
                                            <div class="col-md-4 col-12">
                                                <span class="row material-icons danger">
                                                    place
                                                </span>
                                                <span class="row ">
                                                    `+profile.Address+`
                                                </span>
                                                
                                            </div>
                                        </div>
                                        <div class="card-footer" style="margin-bottom:-7%">
                                            <div class="row justify-content-end">
                                                `+editBtn+`
                                                <button class="btn btn-primary mr-1" onclick="viewProfile('`+profile.ContentName+`','`+profile.userid+`')">
                                                    <span class="material-icons  align-middle">
                                                        visibility
                                                    </span>
                                                    View Profile
                                                </button>
                                                `+referBtn+`
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;  
                    
                    
                    return card.innerHTML; 
                }).join('');
                profileCards.innerHTML = cardHtml;
            }else{
                empty(profileCards);
            }    
        }
        function viewProfile(category,memberid){
            memberid = memberid.slice(1);
            window.open(`./viewBusinessProfile.html?category=`+category+`&memberid=%2B`+memberid,'_self');
        }
        async function loadContactDetails(contactDiv,category,id){
            return true;
        }
    
        function loadFilter(filter){
            var filterOptions = {
                load : "loadbyparent",
                id : filter
            }
            filterOptions = JSON.stringify(filterOptions);
            var filterRequest = {
                method : "POST",
                redirect : "follow",
                headers : myHeaders,
                body : filterOptions
            }
            fetch("../../ws/Accessconfig.php",filterRequest)
            .then(response => response.json())
            .then(result => {
                console.log(result);
                var count = 0;
                if(Array.isArray(result)){
                    var filterOptions = "";
                    result.forEach(element => {
                        if(element.status == "0"){
                            return;
                        }
                        count++;
                        filterOptions = filterOptions+ `<div class="row py-1 px-2" style="border-bottom : 0.5px solid #c1c1c1">
                                                            <span class="mx-1"></span>
                                                            <div class="checkbox" style="cursor : pointer">
                                                                <input type="checkbox" class="checkbox-input" id="`+element.ContentName+`" name="`+filter+`filter" value="`+element.id+`">
                                                                <label for="`+element.ContentName+`" class="text-white">`+element.ContentName+`</label>
                                                            </div>
                                                        </div>`;
                    });
                    var filterContainer = document.getElementById(filter+`-filters`);
                    filterContainer.innerHTML = filterOptions;
                    //get filter count element and add length property to it
                    console.log(filterContainer);
                    var filterHead = document.querySelector(`.filter-types`+filter);
                    filterHead.querySelector('.filter-count').innerText = count;
                }
            })
            
            .catch(error =>{console.log(error);});
        }
        function loadFilters(){
            var filterNames = ["categories","chapters", "groups"];
            var div = document.createElement('div');
            var filterContainer= document.getElementById('filter-container');
            filterNames.forEach((filter)=>{
                //create filter element
                div.innerHTML = `<div class="row px-2 justify-content-between align-items-center py-1 filter-types filter-types`+filter+`" style="border-bottom : 0.5px solid #c1c1c1">
                                    <h4 class="text-white text-bold-500" style="text-transform: capitalize;">`+filter+`</h5>
                                    <span class="badge-pill badge badge-white text-primary badge-round filter-count">0</span>  
                                </div>
                                <div id="`+filter+`-filters" style="display:none">

                                </div>`;
                filterContainer.appendChild(div.firstChild);
                filterContainer.appendChild(div.firstChild.nextSibling);
                loadFilter(filter);
                openFilters(filter);
            })
            
        }
        function openFilters(filter){
            var filterHeads = document.querySelectorAll(`.filter-types`+filter);
            filterHeads = Array.from(filterHeads);
            for(var i in filterHeads){
                filterHeads[i].addEventListener('click',()=>{
                    var filters = filterHeads[i].nextElementSibling;
                    if(filters.style.display == "block"){
                    filters.style.display = "none"
                    }else{
                    filters.style.display = "block"
                    }
                })
            }
        }
        loadFilters();
        async function empty(section){
            section.innerHTML = "";
            var template = document.createElement('div');
            template.setAttribute('style','width:100%');
            template.setAttribute('class','text-center')
            template.innerHTML = ` <div class="row justify-content-center" >
                                        <h5 class="text-bold-500"> No Profiles</h5>
                                    </div>
                                    <div class="row justify-content-center">
                                        <img src="#" id="emptyImage" alt="">
                                    </div> 
                               `;
            template = await emptyState(template,"Search");
            section.innerHTML = "";
            section.appendChild(template);
        }
    </script>
    
</body>

</html>